<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Página principal de Food Express" />
        <meta name="author" content="Johann Amaya" />
        <title>Food Express</title>
        <link rel="icon" href="../images/logo.ico" type="image/x-icon" />
        <!-- CSS -->
        <link th:href="@{/css/style.css}" rel="stylesheet" />
        <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
        <link th:href="@{/css/userview.css}" rel="stylesheet" />

    </head>

    <body>
        <!-- Barra de navegación -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <button
                        class="navbar-toggler"
                        type="button"
                        data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasNavbar"
                        aria-controls="offcanvasNavbar"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="/"><img src="../images/logoW.png" alt="" width="196" height="47"/></a>
                <div
                        class="offcanvas offcanvas-end text-bg-dark"
                        tabindex="-1"
                        id="offcanvasNavbar"
                        aria-labelledby="offcanvasNavbarLabel"
                >
                    <div class="offcanvas-header">
                        <a class="navbar-brand" href="/"
                        ><img src="../images/logoW.png" alt="" width="196" height="47"
                        /></a>
                        <button
                                type="button"
                                class="btn-close btn-close-white"
                                data-bs-dismiss="offcanvas"
                                aria-label="Close"
                        ></button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="/"
                                >Home</a
                                >
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about-us">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/contact-us">Contact</a>
                            </li>
                        </ul>
                        <div class="d-flex">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link" href="/userInfo" th:text="${username} ?  ${username} : 'Login'"></a>
                                </li>
                            </ul>
                        </div>
                        <form class="d-flex" role="search">
                            <input
                                    class="form-control me-2"
                                    type="search"
                                    placeholder="Search"
                                    aria-label="Search"
                            />
                            <button class="btn btn-outline-success" type="submit">
                                Search
                            </button>
                        </form>
                        <form th:action="@{/logout}" method="post">
                            <button class="btn btn-outline-success" type="submit">Cerrar Cesion</button>
                        </form>
                    </div>
                </div>
            </div>
        </nav>
        <div>
            <div class="userview" th:if="${user}">
                <div  class="informacion">
                    <label>Nombres</label>
                    <p th:text="${user.nombre}"></p>
                </div>
                <div   class="informacion">
                    <label>Apellidos</label>
                    <p th:text="${user.apellido}"></p>
                </div>
                <div   class="informacion">
                    <label>Rol</label>
                    <p th:text="${user.role}"></p>
                </div>
                <div   class="informacion">
                    <label>Correo</label>
                    <p th:text="${user.email}"></p>
                </div>
                <form th:action="@{/updateProfile/{id}(id=${user.email})}">
                    <button class="btn btn-outline-success" type="submit">Actualizar información</button>
                </form>
                <form th:action="@{/delete/{id}(id=${user.email})}" method="POST">
                    <button class="btn btn-outline-success" type="submit">Eliminar perfil</button>
                </form>
            </div>
            <div class="suscripcion" th:if="${user.points} > 0" >

            </div>
        </div>
    </body>
</html>